Search.setIndex({docnames:["INSTALLATION","README","chapps","chapps.actions","chapps.adapter","chapps.config","chapps.logging","chapps.outbound","chapps.policy","chapps.rest","chapps.rest.api","chapps.rest.dbmodels","chapps.rest.dbsession","chapps.rest.models","chapps.rest.routers","chapps.rest.routers.common","chapps.rest.routers.domains","chapps.rest.routers.emails","chapps.rest.routers.live","chapps.rest.routers.quotas","chapps.rest.routers.users","chapps.signals","chapps.spf_policy","chapps.switchboard","chapps.tests","chapps.tests.conftest","chapps.tests.test_actions","chapps.tests.test_actions.conftest","chapps.tests.test_actions.test_actions","chapps.tests.test_adapter","chapps.tests.test_adapter.conftest","chapps.tests.test_adapter.test_adapter","chapps.tests.test_config","chapps.tests.test_config.conftest","chapps.tests.test_config.test_config","chapps.tests.test_outbound","chapps.tests.test_outbound.conftest","chapps.tests.test_outbound.test_outbound","chapps.tests.test_policy","chapps.tests.test_policy.conftest","chapps.tests.test_policy.test_policy","chapps.tests.test_policy.test_spf_policy","chapps.tests.test_switchboard","chapps.tests.test_switchboard.conftest","chapps.tests.test_switchboard.test_spf_handler","chapps.tests.test_switchboard.test_switchboard","chapps.tests.test_util","chapps.tests.test_util.conftest","chapps.tests.test_util.test_util","chapps.util","index","modules"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":5,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,sphinx:56},filenames:["INSTALLATION.md","README.md","chapps.rst","chapps.actions.rst","chapps.adapter.rst","chapps.config.rst","chapps.logging.rst","chapps.outbound.rst","chapps.policy.rst","chapps.rest.rst","chapps.rest.api.rst","chapps.rest.dbmodels.rst","chapps.rest.dbsession.rst","chapps.rest.models.rst","chapps.rest.routers.rst","chapps.rest.routers.common.rst","chapps.rest.routers.domains.rst","chapps.rest.routers.emails.rst","chapps.rest.routers.live.rst","chapps.rest.routers.quotas.rst","chapps.rest.routers.users.rst","chapps.signals.rst","chapps.spf_policy.rst","chapps.switchboard.rst","chapps.tests.rst","chapps.tests.conftest.rst","chapps.tests.test_actions.rst","chapps.tests.test_actions.conftest.rst","chapps.tests.test_actions.test_actions.rst","chapps.tests.test_adapter.rst","chapps.tests.test_adapter.conftest.rst","chapps.tests.test_adapter.test_adapter.rst","chapps.tests.test_config.rst","chapps.tests.test_config.conftest.rst","chapps.tests.test_config.test_config.rst","chapps.tests.test_outbound.rst","chapps.tests.test_outbound.conftest.rst","chapps.tests.test_outbound.test_outbound.rst","chapps.tests.test_policy.rst","chapps.tests.test_policy.conftest.rst","chapps.tests.test_policy.test_policy.rst","chapps.tests.test_policy.test_spf_policy.rst","chapps.tests.test_switchboard.rst","chapps.tests.test_switchboard.conftest.rst","chapps.tests.test_switchboard.test_spf_handler.rst","chapps.tests.test_switchboard.test_switchboard.rst","chapps.tests.test_util.rst","chapps.tests.test_util.conftest.rst","chapps.tests.test_util.test_util.rst","chapps.util.rst","index.rst","modules.rst"],objects:{"":[[2,0,0,"-","chapps"]],"chapps.actions":[[3,1,1,"","PostfixActions"],[3,1,1,"","PostfixGRLActions"],[3,1,1,"","PostfixOQPActions"],[3,1,1,"","PostfixPassfailActions"],[3,1,1,"","PostfixSPFActions"]],"chapps.actions.PostfixActions":[[3,2,1,"","__init__"],[3,2,1,"","action_for"],[3,2,1,"","defer_if_permit"],[3,2,1,"","dunno"],[3,2,1,"","ok"],[3,2,1,"","okay"],[3,2,1,"","prepend"],[3,2,1,"","reject"]],"chapps.actions.PostfixGRLActions":[[3,2,1,"","__init__"]],"chapps.actions.PostfixOQPActions":[[3,2,1,"","__init__"]],"chapps.actions.PostfixPassfailActions":[[3,2,1,"","__init__"],[3,2,1,"","action_for"]],"chapps.actions.PostfixSPFActions":[[3,2,1,"","__init__"],[3,2,1,"","action_for"],[3,2,1,"","greylist"],[3,3,1,"","greylisting_policy"]],"chapps.adapter":[[4,1,1,"","MariaDBQuotaAdapter"],[4,1,1,"","MariaDBSenderDomainAuthAdapter"],[4,1,1,"","PolicyConfigAdapter"]],"chapps.adapter.MariaDBQuotaAdapter":[[4,3,1,"","basic_quotas"],[4,3,1,"","join_table"],[4,2,1,"","quota_dict"],[4,2,1,"","quota_for_user"],[4,2,1,"","quota_map"],[4,3,1,"","quota_map_query"],[4,3,1,"","quota_map_where"],[4,3,1,"","quota_query"],[4,3,1,"","quota_table"]],"chapps.adapter.MariaDBSenderDomainAuthAdapter":[[4,2,1,"","check_domain_for_user"],[4,3,1,"","check_domain_query"],[4,2,1,"","check_email_for_user"],[4,3,1,"","check_email_query"],[4,3,1,"","domain_join_table"],[4,3,1,"","domain_map_query"],[4,3,1,"","domain_map_where"],[4,3,1,"","domain_query"],[4,3,1,"","domain_table"],[4,3,1,"","email_join_table"],[4,3,1,"","email_table"]],"chapps.adapter.PolicyConfigAdapter":[[4,2,1,"","__init__"],[4,2,1,"","adapter_context"],[4,2,1,"","finalize"],[4,3,1,"","user_table"],[4,3,1,"","userid_query"]],"chapps.config":[[5,1,1,"","CHAPPSConfig"]],"chapps.config.CHAPPSConfig":[[5,2,1,"","__init__"],[5,2,1,"","get_block"],[5,2,1,"","setup_config"],[5,2,1,"","what_config_file"],[5,2,1,"","write"],[5,2,1,"","write_config"]],"chapps.logging":[[6,4,1,"","DEFAULT_FACILITY"],[6,4,1,"","DEFAULT_LEVEL"],[6,1,1,"","LogSetup"],[6,4,1,"","logger"]],"chapps.logging.LogSetup":[[6,2,1,"","__init__"],[6,3,1,"","debug_formatter"],[6,3,1,"","maillog_formatter"],[6,3,1,"","syslog_handler"]],"chapps.outbound":[[7,1,1,"","OutboundPPR"]],"chapps.outbound.OutboundPPR":[[7,2,1,"","__init__"],[7,2,1,"","_get_user"],[7,2,1,"","clear_memoized_routines"],[7,5,1,"","user"]],"chapps.policy":[[8,1,1,"","EmailPolicy"],[8,1,1,"","GreylistingPolicy"],[8,1,1,"","OutboundQuotaPolicy"],[8,1,1,"","SenderDomainAuthPolicy"]],"chapps.policy.EmailPolicy":[[8,2,1,"","__init__"],[8,2,1,"","approve_policy_request"],[8,3,1,"","redis_key_prefix"],[8,2,1,"","rediskey"]],"chapps.policy.GreylistingPolicy":[[8,2,1,"","__init__"],[8,2,1,"","approve_policy_request"],[8,2,1,"","client_key"],[8,3,1,"","redis_key_prefix"],[8,2,1,"","tuple_key"]],"chapps.policy.OutboundQuotaPolicy":[[8,2,1,"","__init__"],[8,2,1,"","acquire_policy_for"],[8,2,1,"","approve_policy_request"],[8,2,1,"","current_quota"],[8,3,1,"","redis_key_prefix"],[8,2,1,"","refresh_policy_cache"],[8,2,1,"","reset_quota"]],"chapps.policy.SenderDomainAuthPolicy":[[8,2,1,"","__init__"],[8,2,1,"","acquire_policy_for"],[8,2,1,"","approve_policy_request"],[8,2,1,"","bulk_check_policy_cache"],[8,2,1,"","bulk_clear_policy_cache"],[8,2,1,"","check_policy_cache"],[8,2,1,"","clear_policy_cache"],[8,3,1,"","redis_key_prefix"],[8,2,1,"","sender_domain_key"],[8,2,1,"","sender_email_key"]],"chapps.rest":[[10,0,0,"-","api"],[11,0,0,"-","dbmodels"],[12,0,0,"-","dbsession"],[13,0,0,"-","models"],[14,0,0,"-","routers"]],"chapps.rest.api":[[10,6,1,"","validation_exception_handler"]],"chapps.rest.dbmodels":[[11,3,1,"","DB_Base"],[11,1,1,"","DB_Customizations"],[11,1,1,"","Domain"],[11,1,1,"","Email"],[11,1,1,"","JoinAssoc"],[11,1,1,"","Quota"],[11,1,1,"","User"]],"chapps.rest.dbmodels.DB_Customizations":[[11,2,1,"","remove_by_id"],[11,2,1,"","select_by_id"],[11,2,1,"","select_by_name"],[11,2,1,"","select_by_pattern"],[11,2,1,"","select_names_by_id"],[11,2,1,"","update_by_id"],[11,2,1,"","windowed_list"],[11,2,1,"","windowed_list_by_ids"]],"chapps.rest.dbmodels.Domain":[[11,2,1,"","__init__"],[11,3,1,"","id"],[11,3,1,"","name"]],"chapps.rest.dbmodels.Email":[[11,2,1,"","__init__"],[11,3,1,"","id"],[11,3,1,"","name"]],"chapps.rest.dbmodels.JoinAssoc":[[11,2,1,"","__init__"],[11,5,1,"","assoc_col"],[11,2,1,"","delete"],[11,2,1,"","delete_assoc"],[11,2,1,"","insert"],[11,2,1,"","insert_assoc"],[11,2,1,"","select"],[11,2,1,"","select_ids_by_source_id"],[11,5,1,"","source_col"],[11,2,1,"","update"],[11,2,1,"","update_assoc"],[11,2,1,"","values"],[11,2,1,"","where_tuples"]],"chapps.rest.dbmodels.Quota":[[11,2,1,"","__init__"],[11,3,1,"","id"],[11,3,1,"","name"],[11,3,1,"","quota"]],"chapps.rest.dbmodels.User":[[11,2,1,"","__init__"],[11,3,1,"","domains"],[11,3,1,"","emails"],[11,3,1,"","id"],[11,3,1,"","name"],[11,3,1,"","quota"]],"chapps.rest.dbsession":[[12,6,1,"","create_db_url"]],"chapps.rest.models":[[13,1,1,"","AssocOperation"],[13,1,1,"","CHAPPSMetaModel"],[13,1,1,"","CHAPPSModel"],[13,1,1,"","CHAPPSResponse"],[13,1,1,"","DeleteResp"],[13,1,1,"","Domain"],[13,1,1,"","DomainResp"],[13,1,1,"","DomainsResp"],[13,1,1,"","Email"],[13,1,1,"","EmailResp"],[13,1,1,"","EmailsResp"],[13,1,1,"","FloatResp"],[13,1,1,"","IntResp"],[13,1,1,"","LiveQuotaResp"],[13,1,1,"","Quota"],[13,1,1,"","QuotaResp"],[13,1,1,"","QuotasResp"],[13,1,1,"","SDAStatus"],[13,1,1,"","SourceUserMapResp"],[13,1,1,"","TextResp"],[13,1,1,"","User"],[13,1,1,"","UserResp"],[13,1,1,"","UsersResp"]],"chapps.rest.models.AssocOperation":[[13,3,1,"","add"],[13,3,1,"","replace"],[13,3,1,"","subtract"]],"chapps.rest.models.CHAPPSModel":[[13,1,1,"","Meta"],[13,3,1,"","id"],[13,2,1,"","id_name"],[13,2,1,"","join_assoc"],[13,3,1,"","name"],[13,2,1,"","wrap"]],"chapps.rest.models.CHAPPSModel.Meta":[[13,3,1,"","orm_model"]],"chapps.rest.models.CHAPPSResponse":[[13,1,1,"","Config"],[13,3,1,"","response"],[13,2,1,"","send"],[13,3,1,"","timestamp"],[13,3,1,"","version"]],"chapps.rest.models.CHAPPSResponse.Config":[[13,3,1,"","schema_extra"]],"chapps.rest.models.DeleteResp":[[13,3,1,"","response"]],"chapps.rest.models.Domain":[[13,1,1,"","Config"],[13,1,1,"","Meta"],[13,3,1,"","id"],[13,3,1,"","name"]],"chapps.rest.models.Domain.Config":[[13,3,1,"","orm_mode"],[13,3,1,"","schema_extra"]],"chapps.rest.models.Domain.Meta":[[13,3,1,"","orm_model"]],"chapps.rest.models.DomainResp":[[13,3,1,"","response"],[13,3,1,"","users"]],"chapps.rest.models.DomainsResp":[[13,3,1,"","response"]],"chapps.rest.models.Email":[[13,1,1,"","Config"],[13,1,1,"","Meta"],[13,3,1,"","id"],[13,3,1,"","name"]],"chapps.rest.models.Email.Config":[[13,3,1,"","orm_mode"],[13,3,1,"","schema_extra"]],"chapps.rest.models.Email.Meta":[[13,3,1,"","orm_model"]],"chapps.rest.models.EmailResp":[[13,3,1,"","response"],[13,3,1,"","users"]],"chapps.rest.models.EmailsResp":[[13,3,1,"","response"]],"chapps.rest.models.FloatResp":[[13,3,1,"","response"]],"chapps.rest.models.IntResp":[[13,3,1,"","response"]],"chapps.rest.models.LiveQuotaResp":[[13,3,1,"","remarks"],[13,3,1,"","response"]],"chapps.rest.models.Quota":[[13,1,1,"","Config"],[13,1,1,"","Meta"],[13,3,1,"","quota"]],"chapps.rest.models.Quota.Config":[[13,3,1,"","orm_mode"],[13,3,1,"","schema_extra"]],"chapps.rest.models.Quota.Meta":[[13,3,1,"","orm_model"]],"chapps.rest.models.QuotaResp":[[13,3,1,"","response"]],"chapps.rest.models.QuotasResp":[[13,3,1,"","response"]],"chapps.rest.models.SDAStatus":[[13,3,1,"","AUTH"],[13,3,1,"","NONE"],[13,3,1,"","PROH"]],"chapps.rest.models.SourceUserMapResp":[[13,3,1,"","response"]],"chapps.rest.models.TextResp":[[13,3,1,"","response"]],"chapps.rest.models.User":[[13,1,1,"","Config"],[13,1,1,"","Meta"],[13,3,1,"","id"],[13,3,1,"","name"]],"chapps.rest.models.User.Config":[[13,3,1,"","orm_mode"],[13,3,1,"","schema_extra"]],"chapps.rest.models.User.Meta":[[13,3,1,"","orm_model"]],"chapps.rest.models.UserResp":[[13,3,1,"","domains"],[13,3,1,"","emails"],[13,3,1,"","quota"],[13,3,1,"","response"]],"chapps.rest.models.UsersResp":[[13,3,1,"","response"]],"chapps.rest.routers":[[15,0,0,"-","common"],[16,0,0,"-","domains"],[17,0,0,"-","emails"],[18,0,0,"-","live"],[19,0,0,"-","quotas"],[20,0,0,"-","users"]],"chapps.rest.routers.common":[[15,6,1,"","adjust_associations"],[15,6,1,"","create_item"],[15,6,1,"","db_interaction"],[15,6,1,"","delete_item"],[15,6,1,"","get_item_by_id"],[15,6,1,"","list_associated"],[15,6,1,"","list_items"],[15,6,1,"","list_query_params"],[15,6,1,"","load_model_with_assoc"],[15,6,1,"","model_name"],[15,6,1,"","update_item"]],"chapps.rest.routers.live":[[18,6,1,"","get_current_quota_remaining_for_user"],[18,6,1,"","refresh_config_on_disk"],[18,6,1,"","refresh_quota_policy_for_user"],[18,6,1,"","reset_live_quota_for_user"],[18,6,1,"","sda_batch_clear"],[18,6,1,"","sda_batch_peek"],[18,6,1,"","sda_clear"],[18,6,1,"","sda_peek"]],"chapps.signals":[[21,7,1,"","AuthenticationFailureException"],[21,7,1,"","CHAPPSException"],[21,7,1,"","CallableExhausted"],[21,7,1,"","ConfigurationError"],[21,7,1,"","NotAnEmailAddressException"],[21,7,1,"","NullSenderException"],[21,7,1,"","OutboundPolicyException"],[21,1,1,"","SignalHandlerFactory"],[21,7,1,"","TooManyAtsException"]],"chapps.signals.SignalHandlerFactory":[[21,2,1,"","signal_handler"]],"chapps.spf_policy":[[22,1,1,"","SPFEnforcementPolicy"]],"chapps.spf_policy.SPFEnforcementPolicy":[[22,2,1,"","__init__"],[22,2,1,"","approve_policy_request"],[22,3,1,"","redis_key_prefix"]],"chapps.switchboard":[[23,1,1,"","CascadingPolicyHandler"],[23,1,1,"","GreylistingHandler"],[23,1,1,"","OutboundMultipolicyHandler"],[23,1,1,"","OutboundQuotaHandler"],[23,1,1,"","RequestHandler"],[23,1,1,"","SPFEnforcementHandler"],[23,1,1,"","SenderDomainAuthHandler"]],"chapps.switchboard.CascadingPolicyHandler":[[23,2,1,"","__init__"],[23,2,1,"","async_policy_handler"],[23,5,1,"","listen_address"],[23,5,1,"","listen_port"]],"chapps.switchboard.GreylistingHandler":[[23,2,1,"","__init__"]],"chapps.switchboard.OutboundMultipolicyHandler":[[23,2,1,"","__init__"]],"chapps.switchboard.OutboundQuotaHandler":[[23,2,1,"","__init__"]],"chapps.switchboard.RequestHandler":[[23,2,1,"","__init__"],[23,2,1,"","async_policy_handler"],[23,5,1,"","listen_address"],[23,5,1,"","listen_port"]],"chapps.switchboard.SPFEnforcementHandler":[[23,2,1,"","__init__"],[23,2,1,"","async_policy_handler"]],"chapps.switchboard.SenderDomainAuthHandler":[[23,2,1,"","__init__"]],"chapps.tests":[[25,0,0,"-","conftest"],[26,0,0,"-","test_actions"],[29,0,0,"-","test_adapter"],[32,0,0,"-","test_config"],[35,0,0,"-","test_outbound"],[38,0,0,"-","test_policy"],[42,0,0,"-","test_switchboard"],[46,0,0,"-","test_util"]],"chapps.tests.conftest":[[25,1,1,"","ErrorAfter"]],"chapps.tests.conftest.ErrorAfter":[[25,2,1,"","__init__"]],"chapps.tests.test_actions":[[27,0,0,"-","conftest"],[28,0,0,"-","test_actions"]],"chapps.tests.test_actions.conftest":[[27,6,1,"","grl_actions"],[27,6,1,"","oqp_actions"],[27,6,1,"","postfix_actions"],[27,6,1,"","spf_actions"],[27,6,1,"","spf_reason"]],"chapps.tests.test_actions.test_actions":[[28,1,1,"","Test_PostfixActions"],[28,1,1,"","Test_PostfixGRLActions"],[28,1,1,"","Test_PostfixOQPActions"],[28,1,1,"","Test_PostfixSPFActions"]],"chapps.tests.test_actions.test_actions.Test_PostfixActions":[[28,2,1,"","test_action_for_raises_not_implemented_error"],[28,2,1,"","test_dunno"],[28,2,1,"","test_dunno_accepts_useless_message"],[28,2,1,"","test_okay"],[28,2,1,"","test_okay_accepts_useless_message"]],"chapps.tests.test_actions.test_actions.Test_PostfixGRLActions":[[28,2,1,"","test_fail_yields_rejection"],[28,2,1,"","test_pass_yields_dunno"]],"chapps.tests.test_actions.test_actions.Test_PostfixOQPActions":[[28,2,1,"","test_fail_yields_rejection"],[28,2,1,"","test_pass_yields_okay"]],"chapps.tests.test_actions.test_actions.Test_PostfixSPFActions":[[28,2,1,"","test_fail_produces_reject"],[28,2,1,"","test_neutral_produces_greylist"],[28,2,1,"","test_none_produces_greylist"],[28,2,1,"","test_pass_produces_prepend"],[28,2,1,"","test_permerror_produces_enhanced_code"],[28,2,1,"","test_softfail_produces_greylist"],[28,2,1,"","test_temperror_produces_enhanced_code"]],"chapps.tests.test_adapter":[[30,0,0,"-","conftest"],[31,0,0,"-","test_adapter"]],"chapps.tests.test_adapter.conftest":[[30,6,1,"","base_adapter_fixture"],[30,6,1,"","database_fixture"],[30,6,1,"","finalizing_mdbqadapter"],[30,6,1,"","finalizing_mdbsdaadapter"],[30,6,1,"","finalizing_pcadapter"],[30,6,1,"","mdbqadapter_fixture"],[30,6,1,"","mdbsdaadapter_fixture"],[30,6,1,"","mock_mapping"],[30,6,1,"","mock_mariadb"],[30,6,1,"","populated_database_fixture"],[30,6,1,"","populated_database_fixture_with_extras"],[30,6,1,"","test_emails"]],"chapps.tests.test_adapter.test_adapter":[[31,1,1,"","Test_MariaDBQuotaAdapter"],[31,1,1,"","Test_MariaDBSenderDomainAuthAdapter"],[31,1,1,"","Test_PolicyConfigAdapter"]],"chapps.tests.test_adapter.test_adapter.Test_MariaDBQuotaAdapter":[[31,2,1,"","test_MDBQA_quota_dict"],[31,2,1,"","test_finalize"],[31,2,1,"","test_initialize_tables_default"],[31,2,1,"","test_initialize_tables_with_quotas"],[31,2,1,"","test_quota_dump"],[31,2,1,"","test_quota_for_nonexistent_user"],[31,2,1,"","test_quota_for_user"],[31,2,1,"","test_quota_map"],[31,2,1,"","test_quota_map_noncallable"],[31,2,1,"","test_quota_search"],[31,2,1,"","test_quota_search_accuracy"]],"chapps.tests.test_adapter.test_adapter.Test_MariaDBSenderDomainAuthAdapter":[[31,2,1,"","test_check_domain_for_nonexistent_user"],[31,2,1,"","test_check_domain_for_unauth_user"],[31,2,1,"","test_check_domain_for_user"],[31,2,1,"","test_check_email_for_user"],[31,2,1,"","test_initialize_tables"]],"chapps.tests.test_adapter.test_adapter.Test_PolicyConfigAdapter":[[31,2,1,"","test_adapter_superclass"],[31,2,1,"","test_create_user_table"]],"chapps.tests.test_config":[[33,0,0,"-","conftest"],[34,0,0,"-","test_config"]],"chapps.tests.test_config.conftest":[[33,6,1,"","chapps_mock_cfg_path"],[33,6,1,"","chapps_mock_config"],[33,6,1,"","chapps_mock_config_file"],[33,6,1,"","chapps_mock_env"],[33,6,1,"","chapps_remove_testing_config_files"],[33,6,1,"","chapps_sentinel_cfg_path"],[33,6,1,"","chapps_sentinel_config"],[33,6,1,"","chapps_sentinel_config_file"],[33,6,1,"","chapps_sentinel_env"],[33,6,1,"","chapps_test_cfg_path"],[33,6,1,"","chapps_test_env"]],"chapps.tests.test_config.test_config":[[34,1,1,"","Test_Config"]],"chapps.tests.test_config.test_config.Test_Config":[[34,2,1,"","test_chapps_config_defaults"],[34,2,1,"","test_config_overrides"],[34,2,1,"","test_get_block"],[34,2,1,"","test_mock_config_file"],[34,2,1,"","test_oqp_config_defaults"],[34,2,1,"","test_policy_config_adapter_defaults"],[34,2,1,"","test_redis_config_defaults"],[34,2,1,"","test_self_write"],[34,2,1,"","test_setup_config"],[34,2,1,"","test_what_config_file"],[34,2,1,"","test_what_config_file_returns_path"],[34,2,1,"","test_write_config"],[34,2,1,"","test_write_config_bad_path"]],"chapps.tests.test_outbound":[[36,0,0,"-","conftest"],[37,0,0,"-","test_outbound"]],"chapps.tests.test_outbound.conftest":[[36,6,1,"","mocking_userppr"],[36,6,1,"","testing_userppr"]],"chapps.tests.test_outbound.test_outbound":[[37,1,1,"","Test_OutboundPPR"]],"chapps.tests.test_outbound.test_outbound.Test_OutboundPPR":[[37,2,1,"","test_get_user_memoization"],[37,2,1,"","test_no_user_key_no_auth"],[37,2,1,"","test_user_default"],[37,2,1,"","test_user_default_no_sasl"],[37,2,1,"","test_user_default_no_sasl_ccert_or_sender"],[37,2,1,"","test_user_default_no_sasl_or_ccert"]],"chapps.tests.test_policy":[[39,0,0,"-","conftest"],[40,0,0,"-","test_policy"],[41,0,0,"-","test_spf_policy"]],"chapps.tests.test_policy.conftest":[[39,6,1,"","allowable_ppr"],[39,6,1,"","auto_spf_query"],[39,6,1,"","clear_redis"],[39,6,1,"","clear_redis_grl"],[39,6,1,"","clear_redis_sda"],[39,6,1,"","failing_helo_passing_mf"],[39,6,1,"","failing_spf_query"],[39,6,1,"","groupsend_ppr"],[39,6,1,"","idfn"],[39,6,1,"","mock_client_tally"],[39,6,1,"","mock_spf_queries"],[39,6,1,"","mock_spf_query"],[39,6,1,"","multisend_ppr_factory"],[39,6,1,"","neutral_spf_query"],[39,6,1,"","no_helo_passing_mf"],[39,6,1,"","no_helo_softfail_mf"],[39,6,1,"","none_spf_query"],[39,6,1,"","null_sender_policy_sda"],[39,6,1,"","overquota_ppr"],[39,6,1,"","passing_helo_failing_mf"],[39,6,1,"","passing_spf_query"],[39,6,1,"","permerror_spf_query"],[39,6,1,"","populate_redis"],[39,6,1,"","populate_redis_grl"],[39,6,1,"","populate_redis_multi"],[39,6,1,"","random_recipient"],[39,6,1,"","rapid_attempts"],[39,6,1,"","sda_allowable_ppr"],[39,6,1,"","sda_auth_email_ppr"],[39,6,1,"","sda_unauth_email_ppr"],[39,6,1,"","sda_unauth_ppr"],[39,6,1,"","softfail_spf_query"],[39,6,1,"","temperror_spf_query"],[39,6,1,"","testing_policy"],[39,6,1,"","testing_policy_grl"],[39,6,1,"","testing_policy_sda"],[39,6,1,"","testing_policy_spf"],[39,6,1,"","uncached_allowable_ppr"],[39,6,1,"","undefined_ppr"],[39,6,1,"","unique_instance"],[39,6,1,"","well_spaced_attempts"],[39,6,1,"","well_spaced_double_attempts"]],"chapps.tests.test_policy.test_policy":[[40,1,1,"","Test_EmailPolicy"],[40,1,1,"","Test_GreylistingPolicyEvaluation"],[40,1,1,"","Test_GreylistingPolicy_Base"],[40,1,1,"","Test_GreylistingPolicy_get_control_data"],[40,1,1,"","Test_GreylistingPolicy_update_control_data"],[40,1,1,"","Test_OutboundQuotaPolicy"],[40,1,1,"","Test_SenderDomainAuthPolicy"]],"chapps.tests.test_policy.test_policy.Test_EmailPolicy":[[40,2,1,"","test_approval_not_implemented"],[40,2,1,"","test_connect_to_redis"],[40,2,1,"","test_connect_to_sentinel"],[40,2,1,"","test_fmtkey"],[40,2,1,"","test_rediskey"]],"chapps.tests.test_policy.test_policy.Test_GreylistingPolicyEvaluation":[[40,2,1,"","test_client_tally_updated_when_unrecognized_tuple_passes"],[40,2,1,"","test_first_encounter_false"],[40,2,1,"","test_first_encounter_updates_tuple"],[40,2,1,"","test_recognized_tuple_passes"],[40,2,1,"","test_recognized_tuple_updates_client_tally"],[40,2,1,"","test_retry_too_soon_fails"],[40,2,1,"","test_retry_too_soon_updates_tuple"],[40,2,1,"","test_sufficient_client_tally_permits_sending_for_unrecognized_tuple"]],"chapps.tests.test_policy.test_policy.Test_GreylistingPolicy_Base":[[40,2,1,"","test_approve_policy_request"],[40,2,1,"","test_client_key"],[40,2,1,"","test_config_overrides_properly_forwarded"],[40,2,1,"","test_fmtkey"],[40,2,1,"","test_policy_request_instance_cache"],[40,2,1,"","test_tuple_key"]],"chapps.tests.test_policy.test_policy.Test_GreylistingPolicy_get_control_data":[[40,2,1,"","test_allow_after_is_zero"],[40,2,1,"","test_new_tuple_client_tally_present"],[40,2,1,"","test_no_keys_yet_exist"],[40,2,1,"","test_tuple_is_recognized"],[40,2,1,"","test_tuple_recognized_and_tally_exists"]],"chapps.tests.test_policy.test_policy.Test_GreylistingPolicy_update_control_data":[[40,2,1,"","test_skip_client_tally_update_if_allow_after_is_zero"],[40,2,1,"","test_update_client_tally"],[40,2,1,"","test_update_tuple"]],"chapps.tests.test_policy.test_policy.Test_OutboundQuotaPolicy":[[40,2,1,"","test_approve_last_remaining_quota"],[40,2,1,"","test_approve_last_with_multiple_recipients"],[40,2,1,"","test_approve_policy_request"],[40,2,1,"","test_approve_policy_request_for_uncached"],[40,2,1,"","test_approve_underquota_within_margin"],[40,2,1,"","test_current_quota"],[40,2,1,"","test_deny_overquota_within_margin"],[40,2,1,"","test_deny_policy_request"],[40,2,1,"","test_deny_policy_request_for_undefined"],[40,2,1,"","test_deny_rapid_attempts"],[40,2,1,"","test_deny_when_too_many_recipients"],[40,2,1,"","test_oqp_fmtkey"],[40,2,1,"","test_return_cached_instance_approval"]],"chapps.tests.test_policy.test_policy.Test_SenderDomainAuthPolicy":[[40,2,1,"","test_authorized_user"],[40,2,1,"","test_cached_authed_user"],[40,2,1,"","test_cached_unauth_user"],[40,2,1,"","test_cached_whole_email"],[40,2,1,"","test_get_sender_domain"],[40,2,1,"","test_sda_fmtkey"],[40,2,1,"","test_sender_domain_key"],[40,2,1,"","test_unauthorized_user"],[40,2,1,"","test_whole_email_auth"],[40,2,1,"","test_whole_email_unauth"]],"chapps.tests.test_policy.test_spf_policy":[[41,1,1,"","Test_SPFEnforcementPolicy"]],"chapps.tests.test_policy.test_spf_policy.Test_SPFEnforcementPolicy":[[41,2,1,"","test_all_spf_query_result_permutations"],[41,2,1,"","test_failing_emails_get_reject"],[41,2,1,"","test_no_helo_passing_mf_gets_prepend"],[41,2,1,"","test_passing_emails_get_prepend"],[41,2,1,"","test_passing_helo_failing_mf_gets_reject"]],"chapps.tests.test_switchboard":[[43,0,0,"-","conftest"],[44,0,0,"-","test_spf_handler"],[45,0,0,"-","test_switchboard"]],"chapps.tests.test_switchboard.conftest":[[43,6,1,"","grl_reader_recognized"],[43,6,1,"","grl_reader_too_fast"],[43,6,1,"","grl_reader_with_tally"],[43,6,1,"","mock_exc_raising_writer"],[43,6,1,"","mock_reader_factory"],[43,6,1,"","mock_reader_ok"],[43,6,1,"","mock_reader_rej"],[43,6,1,"","mock_reader_sda_auth"],[43,6,1,"","mock_reader_sda_unauth"],[43,6,1,"","mock_writer"],[43,6,1,"","unique_instance"]],"chapps.tests.test_switchboard.test_spf_handler":[[44,1,1,"","Test_SPFEnforcementHandler"]],"chapps.tests.test_switchboard.test_spf_handler.Test_SPFEnforcementHandler":[[44,3,1,"","pytestmark"],[44,2,1,"","test_handle_policy_request"]],"chapps.tests.test_switchboard.test_switchboard":[[45,1,1,"","Test_GreylistingHandler"],[45,1,1,"","Test_OutboundMultipolicyHandler"],[45,1,1,"","Test_OutboundQuotaHandler"],[45,1,1,"","Test_RequestHandler"],[45,1,1,"","Test_SenderDomainAuthHandler"]],"chapps.tests.test_switchboard.test_switchboard.Test_GreylistingHandler":[[45,3,1,"","pytestmark"],[45,2,1,"","test_handle_allowed_client"],[45,2,1,"","test_handle_new_tuple"],[45,2,1,"","test_handle_recognized_tuple"],[45,2,1,"","test_handle_retry_too_fast"]],"chapps.tests.test_switchboard.test_switchboard.Test_OutboundMultipolicyHandler":[[45,3,1,"","pytestmark"],[45,2,1,"","test_authed_user_gets_quota_check"],[45,2,1,"","test_handle_null_sender"],[45,2,1,"","test_reject_null_sender"],[45,2,1,"","test_unauthed_user_gets_rejected"]],"chapps.tests.test_switchboard.test_switchboard.Test_OutboundQuotaHandler":[[45,3,1,"","pytestmark"],[45,2,1,"","test_default_policy"],[45,2,1,"","test_handle_policy_rejection"],[45,2,1,"","test_handle_policy_request"]],"chapps.tests.test_switchboard.test_switchboard.Test_RequestHandler":[[45,3,1,"","pytestmark"],[45,2,1,"","test_exception_handling"]],"chapps.tests.test_switchboard.test_switchboard.Test_SenderDomainAuthHandler":[[45,3,1,"","pytestmark"],[45,2,1,"","test_handle_authorized_user"],[45,2,1,"","test_handle_unauth_user"]],"chapps.tests.test_util":[[47,0,0,"-","conftest"],[48,0,0,"-","test_util"]],"chapps.tests.test_util.conftest":[[47,6,1,"","mock_config_dict"],[47,6,1,"","postfix_policy_request_message"],[47,6,1,"","postfix_policy_request_payload"],[47,6,1,"","postfix_sasl_username"]],"chapps.tests.test_util.test_util":[[48,1,1,"","Test_AttrDict"],[48,1,1,"","Test_PostfixPolicyRequest"]],"chapps.tests.test_util.test_util.Test_AttrDict":[[48,2,1,"","test_attr_dict_return_float"],[48,2,1,"","test_attr_dict_return_int"],[48,2,1,"","test_attr_dict_return_string"],[48,2,1,"","test_return_boolean"]],"chapps.tests.test_util.test_util.Test_PostfixPolicyRequest":[[48,2,1,"","test_attribute"],[48,2,1,"","test_dereference"],[48,2,1,"","test_instantiate_ppr"],[48,2,1,"","test_iterable"],[48,2,1,"","test_len"],[48,2,1,"","test_recipients"]],"chapps.util":[[49,1,1,"","AttrDict"],[49,1,1,"","PostfixPolicyRequest"],[49,1,1,"","VenvDetector"]],"chapps.util.AttrDict":[[49,2,1,"","__init__"],[49,3,1,"","boolean_pattern"]],"chapps.util.PostfixPolicyRequest":[[49,2,1,"","__init__"],[49,5,1,"","recipients"]],"chapps.util.VenvDetector":[[49,2,1,"","__init__"],[49,5,1,"","confpath"],[49,5,1,"","docpath"],[49,2,1,"","get_base_prefix_compat"],[49,2,1,"","in_virtualenv"],[49,5,1,"","ve"],[49,5,1,"","venvpath"]],chapps:[[3,0,0,"-","actions"],[4,0,0,"-","adapter"],[5,0,0,"-","config"],[6,0,0,"-","logging"],[7,0,0,"-","outbound"],[8,0,0,"-","policy"],[9,0,0,"-","rest"],[21,0,0,"-","signals"],[22,0,0,"-","spf_policy"],[23,0,0,"-","switchboard"],[24,0,0,"-","tests"],[49,0,0,"-","util"]]},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","attribute","Python attribute"],"4":["py","data","Python data"],"5":["py","property","Python property"],"6":["py","function","Python function"],"7":["py","exception","Python exception"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method","3":"py:attribute","4":"py:data","5":"py:property","6":"py:function","7":"py:exception"},terms:{"0":[1,8,11,13,15,18,40],"1":[0,1,15,40],"10":[0,1,6,8],"100":1,"1000":[11,15],"10225":1,"10eph":4,"11":[0,1],"12":1,"1200":[4,13],"127":1,"128":[1,4],"16":6,"1651613581":[],"1651689718":[],"1651697229":[],"1651697347":13,"1934023":[],"2":15,"20":1,"200eph":4,"24":1,"240":4,"26379":1,"3":[0,1],"30":0,"32":[1,4],"3306":15,"4":[1,13],"4209883":13,"4800":4,"5":8,"50eph":4,"554":28,"6":1,"60":8,"64":[1,4],"6733944":[],"7208":[1,28],"8":[0,1],"8080":1,"8395953":[],"86400":8,"9":1,"abstract":[3,8,22,28,40],"boolean":[1,3,49],"case":[1,3],"class":[3,4,5,6,7,8,11,13,15,21,22,23,25,28,31,34,37,40,41,44,45,48,49],"default":[0,1,4,5,6,8,33,34,45,49],"do":[0,1,3],"enum":13,"export":0,"final":[4,31],"float":[1,13,40,49],"function":[1,3,4,7,13,30,31],"import":[0,1,49],"int":[4,11,13,15,18],"long":[1,8],"new":[0,1,5,7,18,40,45,48],"null":[0,1,4],"public":0,"ram\u00edrez":0,"return":[1,3,4,5,7,8,15,18,23,25,28,31,40,45,48,49],"sebasti\u00e1n":0,"short":1,"static":[0,3,5,8],"switch":[1,6],"true":[1,3,4,8,13,18,31,40],"try":1,"tvrtkovi\u0107":0,"var":1,"while":1,A:[0,1,4,6,8,11,13,21,22,23,49],AND:4,AS:4,And:[0,1],As:[0,1,49],At:[0,1,7],But:[1,6],By:[0,1],For:[0,1,4,5,6,8,22,28,49],IF:[1,4],IN:4,INTO:4,If:[0,1,5,6,8,18,49],In:[0,1,4,7,8],It:[0,1,5,6],NOT:[1,4,13],No:21,Not:3,ON:[1,4],OR:15,Of:1,On:[0,1],One:[1,49],Such:7,THEN:[31,40,44,45,48],TO:1,That:[0,1,5,7],The:[0,1,3,4,5,6,7,8,15,21,28],There:[1,6,11,21],These:[3,4,5,11,49],To:[3,50],With:1,_:7,__init__:[3,4,5,6,7,8,11,22,23,25,49],_fmtkei:40,_get_us:7,_payload:49,_quota_search:31,_update_client_t:40,_update_tupl:40,abc:49,abl:[0,1,6,7,28],about:[0,1,4,8],abov:[1,5],absolut:1,accept:[1,3,7,8,18,22,45],acceptance_messag:3,access:[1,4,5,15,18,49],accomplish:[1,4],accord:[1,3,23],account:[4,40],accur:31,achiev:[1,7],acquire_policy_for:8,act:[0,1],action:[2,27,28,51],action_for:[3,28],activ:[0,1,5,49],activa:49,actual:[1,3,7,45],ad:[1,11,40],adapt:[0,1,2,3,5,8,28,30,31,51],adapter_context:4,add:[0,6,13,15,40],addit:[0,1,5],address:[0,1,4,5,18,21,31],adjust:[1,3,8],adjust_associ:15,administr:0,advanc:49,after:[0,1,8,18,25],again:1,ago:40,agreement:1,aim:0,aiosmtpd:0,al:0,alia:[3,13],all:[0,3,4,5,6,7,8,11,18,31,34,40,44,49],allow:[0,1,3,5,7,8,11,18,45,49],allow_aft:40,allowable_ppr:[39,40,41],along:[0,1,3],alreadi:[1,5,6,40],als:49,also:[0,1,4,5,6,7,28,49],alter:[1,8],altern:7,although:8,alwai:[13,40],am:[0,11],amount:[0,1,4,8,40],an:[0,1,3,4,5,6,7,8,13,15,18,21,22,23,31,34,40,45,48,49],ancillari:[1,6],ani:[1,4,5,6,7,8,11,15,31],anoth:[0,1,49],ansibl:0,answer:[1,3],anticip:6,anyth:4,anywher:6,api:[2,4,5,8,9,11,13,49,50],app:0,appar:[8,18],appear:[1,6],append:15,appli:[1,7,28,31],applic:[1,18,49],approach:[1,6],appropri:[0,44],approv:[8,40],approve_policy_request:[8,22,40],apt:0,ar:[0,1,3,5,6,8,11,28,31,33,34,40,45,49],arbitrari:[7,8],area:1,aren:1,arg:[3,8,44,45],argument:[3,7,8,15,18,22,31,40],around:5,arrai:49,artifact:0,ask:[40,45,48],aspect:1,asset:1,assign:1,assist:[1,49],assoc:[11,15],assoc_col:11,assoc_id:11,assoc_model:11,assoc_nam:11,assoc_op:15,assoc_typ:11,associ:[1,7,11,13,15],assocoper:[13,15],assum:1,async:[10,15,18,44,45],async_policy_handl:23,asyncio:[0,21,44,45],attach:3,attempt:[0,1,5,6,7,8,18,31,40,45],attrdict:[5,49],attribut:[1,7,8,11,48,49],auth:[1,13],authent:[1,7,8,21],authenticationfailedexcept:1,authenticationfailureexcept:21,author:[4,13,18,45,50],auto:[8,45],auto_allow_aft:8,auto_incr:[1,4],auto_ppr:40,auto_spf_queri:[39,41,44],autocommit:4,automat:[0,8,15],avail:[2,5,18,40],avoid:[1,6,11,49],awai:4,back:[1,45],backend:1,backward:3,base:[1,3,4,5,6,7,8,11,13,21,22,23,25,28,31,34,37,40,41,44,45,48,49],base_adapter_fixtur:[30,45],basemodel:13,bashrc:0,basi:[1,8],basic:[4,5,6,8],basic_quota:4,basicconfig:6,batcheld:0,bayer:0,beast:1,becaus:[1,3,49],becom:1,been:[1,5,6,49],befor:[0,1,40],behavior:1,being:[1,3,5,21],belong:1,below:[1,4],ben:0,benoit:0,best:1,better:1,between:[1,4,6,15],bigint:[1,4],bin:[0,1],bit:[1,6,7,40,49],blank:[1,48],bloat:1,block:[1,3,5,45],blockchain:4,blocknam:5,bob:0,bodi:[13,18],bool:4,boolean_pattern:49,boot:0,both:[1,8,18],br:18,brain:5,bremen:0,brows:1,bruynoogh:0,build:[1,8,15],bulk_check_policy_cach:8,bulk_clear_policy_cach:8,bullet:0,bunch:[5,34,49],c:[0,1],cach:[2,8,13,18,40,49],cache_ttl:8,call:[0,1,4,6,8,25,40],callabl:[0,4,25,31],callableexhaust:[21,25],can:[0,1,5,7,23,40],cannot:[5,7],canon:0,capabl:1,caplog:[37,40,41,44,45],cascad:[1,4,23,45],cascadingpolicyhandl:23,cast:49,categori:1,caus:[0,1,3,5],ccert_subject:1,central:0,cert:1,certain:[1,49],certainli:1,cf:1,cfg:[3,7,8,12,22],chang:[1,3,4,5],chapp:[1,50],chapps_config:[0,1,5],chapps_database_init:[0,1],chapps_mock_cfg_path:[33,34,37],chapps_mock_config:[33,34],chapps_mock_config_fil:[33,34,36,39],chapps_mock_env:[33,34,36,37,39],chapps_outbound_multi:1,chapps_outbound_quota:1,chapps_remove_testing_config_fil:33,chapps_sentinel_cfg_path:33,chapps_sentinel_config:33,chapps_sentinel_config_fil:[33,40],chapps_sentinel_env:[33,40],chapps_test:15,chapps_test_cfg_path:[33,34],chapps_test_env:[33,34,36,37],chappsconfig:[3,5,8,22,49],chappsexcept:21,chappsmetamodel:13,chappsmodel:13,chappsrespons:13,charact:8,characterist:1,charset:1,check:[1,8,18],check_domain_for_us:4,check_domain_queri:4,check_email_for_us:4,check_email_queri:4,check_policy_cach:8,check_policy_servic:1,checker:[1,44],chesneau:0,choos:0,chu:0,circular:6,circumst:1,cl:15,classifi:1,classmethod:[7,13,21],classnam:[],clean:0,clear:[1,7,18],clear_memoized_routin:7,clear_policy_cach:8,clear_redi:[39,45],clear_redis_grl:[39,40,41,45],clear_redis_sda:[39,40,45],clearli:1,cli:1,client:[0,1,8,40,45],client_address:[1,8],client_kei:8,close:[4,31,45],closur:[3,7,15,21],cluster:1,code:[0,1,11,15,28,34],codebas:[4,7],collect:49,colon:[8,40],column:[1,11],colvin:0,com:13,combin:[1,7,18],come:[1,6,40],comma:49,command:[0,1,5],commandlin:0,common:[1,3,6,9,14],commonli:5,commun:[0,1,44],compar:1,compat:[0,1,3],compil:49,complet:[1,3],complic:1,compon:8,compos:49,comprehens:1,conceiv:1,concentr:0,concern:0,concret:23,concurr:1,condit:1,conf:0,config:[0,1,2,3,4,6,7,8,13,18,33,34,40,47,49,51],configpars:5,configu:5,configur:[0,3,4,5,6,7,21,28,34,49,50],configurationerror:21,confpath:49,conftest:[2,24,26,29,32,35,38,42,46],confus:[0,1],connect:[0,1,4,8,30,31],connector:[0,1],consciou:6,conscious:0,conserv:1,consid:[3,40],consist:[1,6],constraint:[1,4],construct:[3,8,11],constructor:11,consult:[1,8],consumpt:0,contain:[1,8,13,21,34,44,45,48,49],content:[1,3,5,48,49],context:[1,4],continu:1,contributor:0,control:[0,1,5,15,40],conveni:[23,49],convers:1,convert:4,copi:[0,1,48],coroutin:23,correct:[0,1],correctli:1,correspond:[1,11],could:[0,1,4,5,7,11,15,23,28],count:[4,8,40,49],counting_recipi:1,coupl:[1,15],cours:1,cov:0,cover:1,coverag:0,cp:5,cph:23,creat:[0,1,4,5,6,7,8,13,15,21],create_db_url:12,create_item:15,creation:15,credenti:1,cur:4,curl:1,current:[1,4,5,18,21,40],current_quota:8,cursor:4,custom:[1,11],cycl:1,d:[0,1,4],daemon:0,dai:[1,8],data:[0,1,4,7,8,13,15,31,40,48,49],databas:[4,8,31,50],database_fixtur:[30,31,45],datamodel:15,datapath:49,dataset:[1,40],datasourc:1,datastor:1,datum:49,david:0,db:[1,12,15],db_base:11,db_custom:11,db_host:4,db_interact:15,db_name:4,db_pass:4,db_port:4,db_user:4,dbmodel:[2,9,13,15],dbsession:[2,9],deal:[0,1],debian:[0,1],debug:[1,6],debug_formatt:6,decid:1,decis:[1,6,8,22],decl_api:[11,13],declar:3,declarativemeta:11,decor:15,decoupl:0,default_facil:6,default_level:6,default_pathnam:5,defer:[1,3],defer_if_permit:[3,28],deferr:8,defin:[0,3,4,6,8],definit:[1,11],degre:1,deleg:[1,49],delet:[1,4,11,15],delete_assoc:11,delete_item:15,deleteresp:[13,15],deliv:3,deliver:1,deliveri:[1,45],deni:[1,40,45],depend:[0,1,6,8,15],deploy:[0,1],derefer:1,dereferenc:[48,49],describ:1,descript:[1,3],design:[0,1],desir:[0,1],despit:1,destin:[1,6],detail:1,detect:49,detector:49,determin:[0,1,3,5,49],dev:[0,1,6],develop:0,devot:1,dict:[0,4,13,15,18,31,48],dict_:[],dictionari:49,differ:[0,1,3,4,5,6,7],difficulti:1,direct:[3,6],directli:[1,4],directori:[0,1,5,49],disabl:8,discard:49,discov:[1,37],disk:[1,5,18],divid:1,dmitri:0,dn:[0,1],dnspython:0,doc:[1,8],docpath:49,document:[0,1,49],doe:[1,3,5,6,7,8],doesn:[0,1,8],domain:[4,8,9,11,13,14,18,31,50],domain_id:[1,4,18],domain_join_t:4,domain_map_queri:4,domain_map_wher:4,domain_queri:4,domain_t:4,domain_us:[1,4],domainresp:13,domainsresp:13,don:[1,7],done:[0,6],door:1,dotenv:0,doubl:8,doubli:4,down:1,drop:[3,18],due:[3,6],dunno:[3,28,45],durat:8,dure:[0,1,21],e:[0,1,4,18],each:[1,3,4,5,8],easi:1,easier:[0,5,49],edit:0,effect:[18,40,49],effort:0,either:[1,11,15],element:[1,3,5,21,40,49],elimin:[1,5],ellipsi:18,els:4,email:[3,4,7,8,9,11,13,14,18,21,31,40,45],email_id:[1,4,18],email_join_t:4,email_t:4,email_us:[1,4],emailpolici:[8,22,40],emailresp:13,emailsresp:13,emit:1,empti:[1,4,15,49],empty_set_messag:15,enabl:[0,1],encapsul:[3,5,7,8,13,49],encod:[0,18],encount:1,encourag:1,end:[1,4,6,21,48,49],enforc:[0,3,8,22,41,44,50],enforcement_interv:8,engin:[1,15],enlarg:40,enough:[1,40],ensur:[0,1,6,34,40],entir:[1,6,8,18],entiti:[8,11],entri:[1,31,49],enumer:13,env:0,envelop:1,environ:[0,1,5,49],equival:0,error:[1,21],erroraft:25,establish:[1,5,6,40],et:0,etc:[0,1,5],evalu:[1,3,40],even:[1,28],evenli:1,event:21,eventu:[15,28],ever:1,everi:1,everyon:7,everyth:[1,4,40],everywher:6,exactli:1,exampl:[0,1,6,8,11,13,22,49],exc:10,except:[5,10,15,21,45],exception_messag:15,execut:[0,4,40],exist:[0,1,4,5,7,21,40],expect:[0,1,8,15,31],expected_result:[40,41,44],expir:[0,1],expiri:1,explicit:8,explicitli:7,express:1,extens:1,extra:[1,8,48],extract:[1,3,7],extrem:1,facil:[1,6],facilit:7,fact:1,factori:[3,7,15,23],fail:[0,1,3,28,40],failing_helo_passing_mf:39,failing_spf_queri:[39,41],failur:[1,21],fair:1,fairli:[1,4],fall:1,fallback:1,fals:[1,3,31,40],fanci:6,far:[1,8],farm:1,fashion:1,fast:40,fastapi:[0,1,10],fate:1,featur:[0,5,50],feel:0,few:7,ff:49,field:1,fiftyperhour:13,file:[0,1,4,5,7,34,40,49],filter:[0,1,11,45],finalizing_mdbqadapt:[30,31],finalizing_mdbsdaadapt:[30,31],finalizing_pcadapt:[30,31,45],find:[0,1,5,7,15],finish:0,first:[0,1,3,5,6,7,8,15,31,40,49],fit:1,fixtur:[27,30,33,39,43],fk_domain:4,fk_domain_us:1,fk_email:[1,4],fk_quota:[1,4],fk_quota_us:1,fk_user_domain:[1,4],fk_user_email:[1,4],fk_user_quota:[1,4],flat:4,flavor:0,flexibl:1,floatresp:13,flori:0,flow:1,flush:1,fn:5,focu:1,folder:1,follow:[1,8],foreign:[1,4],forget:7,form:40,format:[0,1,6,8,40,49],formatt:6,forward:3,found:[0,1,5,7,31],framework:[1,8],from:[0,1,3,4,5,6,8,11,13,15,18,31,40,44,45,48,49],full:[5,8,31],fulli:40,func:[4,6],further:[1,6],futur:[1,3,4,7],fuzzi:1,gain:1,gatewai:1,gathman:[0,1],gener:[0,1,5,6],georg:0,get:[1,4,5,6,8,15,21,40,45],get_base_prefix_compat:49,get_block:5,get_current_quota_remaining_for_us:18,get_item_by_id:15,getter:7,given:[8,31,40,44,45,48],global:[3,6,12],glue:40,go:[0,1,4,6,8,40,44],good:1,govern:1,grant:[0,8],great:1,grei:1,greylist:[0,3,8,28,40,45,50],greylisting_polici:3,greylistinghandl:23,greylistingpolici:[3,8],grl:[8,40],grl_action:[27,28],grl_reader_recogn:[43,45],grl_reader_too_fast:[43,45],grl_reader_with_t:[43,45],groupsend_ppr:[39,40],gunicorn:[0,1],ha:[0,1,3,6,7,8,31,40],had:[6,21],half:1,hallei:0,hand:[1,3,31],handl:[1,5,7,23,40,45],handler:[1,5,6,21,23,44,45],happen:[1,3,6],hard:1,hash:49,hasn:49,have:[0,1,5,13,40],haven:0,headach:6,header:3,help:[1,6,49],here:[1,8],herein:1,hierarchi:6,high:1,highli:[0,2],histori:40,hold:[1,4,5,8,49],holger:0,home:0,hope:1,hostnam:4,hour:1,how:[0,1,4,5,8,28,37],howev:[0,1,4],html:49,http:49,i:[0,1,7,11,18,40],id:[1,4,11,13,15,18],id_nam:13,ideal:4,ident:7,identif:1,identifi:[1,7,8,13,22],idfn:39,ignor:[6,7],immedi:[0,1,40,45],impact:40,implement:[0,1,3,8,28,49],impli:40,impress:8,in_virtualenv:49,inada:0,inbound:50,inc:0,incept:6,incident:1,includ:[0,1,3,6,8,22,49],incur:1,index:50,indic:1,inet:1,inevit:1,inflex:1,info:[0,1],inform:[0,1,7,40,49],ingress:0,inher:1,inherit:[3,6],ini:[0,1,5],init:3,initi:[3,6,11,31,49],innodb:1,input:1,insert:[0,4,11],insert_assoc:11,insid:1,instal:50,instanc:[0,1,3,5,6,7,8,11,22,31,40,49],instantan:18,instanti:[1,6,45,48],instead:[1,3],instruct:[0,3,4],integ:[1,11,13,18,49],integr:1,intend:[1,3],intention:[1,33],intepret:3,interact:[1,4],interest:1,interfac:[4,40,49],intern:[7,49],internet:0,interv:[1,40],intresp:13,intric:1,introduc:5,introduct:50,invok:0,involv:0,ip:[0,4,8,40],isn:[0,1,45],isol:8,issu:[1,6,18],issuer:1,item:[1,11,15,28,48],item_id:11,iter:[1,18,48],its:[0,1,3,4,5,6,7,8,31,40,48],itself:[1,5],j:4,job:[1,6,49],join:[1,4,8,11],join_assoc:13,join_tabl:4,joinassoc:[11,15],jointabl:11,just:[0,1,4,5,8,11,15,40],keep:[1,5,40],kei:[3,4,7,8,11,13,18,34,40,49],kept:1,keyword:3,kind:1,know:[0,37],known:7,krekel:0,kumar:0,kw:[],kwarg:[3,11,13,44,45,49],label:1,lack:[1,21],languag:1,larg:[1,40],larger:1,last:[1,5,40,49],latenc:1,later:[1,3],launch:[0,1,5],layer:18,lazi:49,least:0,left:[1,4,33],legitim:1,length:48,less:[1,40],let:0,level:[1,4,5,6,7,13],lib:1,libmariadb:[0,1],librari:[0,1,5],lighter:1,like:[0,1,3,4,5,8,40,49],limit:[1,4,11,15,25],line:[0,5,18,48,49],link:[0,1,11,31],list:[1,4,8,11,13,15,18,31,40,49],list_associ:15,list_item:15,list_query_param:15,listen:[1,5],listen_address:[5,23],listen_port:[5,23],littl:[0,1,6],live:[8,9,14,49],livequotaresp:13,load:[1,4,6,11,49],load_model_with_assoc:15,local0:[0,1,6],local:[0,1],localhost:[1,15],locat:[0,1,5,49],log:[0,2,45,51],logger:6,logic:[1,3,4,7,45],login:[1,4],logsetup:6,longer:6,look:[0,1,3,18,49],loop:21,lot:[1,4],low:[1,4],m:[0,1],made:0,mai:[0,1,3,4,5,6,7,49],mail:[0,1,6,8,21],maillog_formatt:6,main:[1,8,13,15],mainli:[3,7,15],major:[0,1],make:[0,1,4,6,8,22],malwar:1,manag:[0,1,3,4,5,8,22],mani:[3,7,21],map:[1,3,4,8,11,15,18,28,40,49],marc:0,margin:[8,40],mariadb:[0,1,4,30],mariadbpolicyconfigadapt:4,mariadbquotaadapt:4,mariadbsenderdomainauthadapt:4,mark:[44,45],markdown:49,masquerad:1,master:1,match:[8,15],materi:6,matter:40,max:1,md:5,mdbqa:31,mdbqadapter_fixtur:[30,31],mdbsdaa:31,mdbsdaadapter_fixtur:30,me:1,mean:[1,40],meant:[0,1,3,4,23],meantim:1,mechan:[0,3],member:40,memoiz:[3,7,8,49],memoized_routin:[],memori:1,mention:5,messag:[0,3,6,15,23,28,39,40,45],meta:13,metaclass:11,method:[0,1,3,4,5,6,8,28,40],michael:0,might:[0,1,4,5,7,49],min_delai:40,min_delta:8,mini:1,minimum:[6,8],minimum_deferr:8,minor:1,minut:1,mock:30,mock_client_t:[39,40,43],mock_config_dict:[47,48],mock_exc_raising_writ:[43,45],mock_map:[30,31],mock_mariadb:[30,31],mock_reader_factori:[43,44],mock_reader_ok:[43,45],mock_reader_rej:[43,45],mock_reader_sda_auth:[43,45],mock_reader_sda_unauth:[43,45],mock_spf_queri:39,mock_writ:[43,44,45],mocking_userppr:[36,37],model:[2,8,9,11,15],model_nam:15,modelmetaclass:13,modif:1,modifi:0,modul:[1,2,9,14,24,26,29,32,35,38,42,46,50,51],monkeypatch:[1,30,33,37,39,40,41,44,45],more:[0,1,3,4,5,7,23,40,49],most:[0,1,5],mostli:5,mrbean:0,msg:3,mua:1,much:[0,1],multi:[5,40,50],multipl:[23,40],multiplex:23,multipolici:1,multisend_ppr_factori:[39,40],must:[0,1,3,8,28],muster:1,my:[0,1],mymast:1,mysql:[0,15],mysqlclient:[0,1],name:[0,1,3,4,5,6,8,11,13,15,18,40,44,45],namespac:[],naoki:0,nb:48,necessari:[0,1,6],necessarili:1,ned:0,need:[0,1,3,5,8,15,49],needlessli:1,neg:1,network:1,neutral:[1,28],neutral_spf_queri:39,never:[1,13],newli:5,next:1,nginx:1,nil:7,no_helo_passing_mf:[39,41],no_helo_softfail_mf:39,no_user_key_respons:1,node:1,non:[4,7,28,31,34],none:[1,3,4,5,7,8,11,12,13,15,18,22,23,28,31,40,49],none_spf_queri:39,nor:0,normal:[0,1,7],notanemailaddressexcept:21,note:[0,1,4],noth:6,notimplementederror:40,now:[1,3,4,7,8,28],nuanc:1,null_sender_policy_sda:[39,45],nullsenderexcept:21,number:[0,1,4,5,18,25,48],object:[1,3,4,5,6,8,10,11,13,15,18,21,23,25,27,28,31,34,37,40,41,44,45,48,49],obtain:[1,4,7],obviou:1,obvious:1,occasion:1,occur:[1,3,15,21,40],odd:1,off:1,offer:1,often:1,ok:[3,28,45],okai:3,older:[1,3,4],onc:[0,1,3,4,6,40,49],one:[0,1,5,6,7,34,49],ones:[5,28],onli:[0,1,3,5,7,8,11,13,40,49],onto:[1,3,4,15,28],open:[1,5,8,31],oper:[0,1,15],option:[0,1,3,4,5,8,11,13,15,18,22,49],oqp:[8,40,45],oqp_act:[27,28],order:[0,1,5,6,7,8,11,23,40,49],org:49,organ:1,orient:[1,23],origin:[1,34],orlov:0,orm:[11,13],orm_inst:13,orm_mod:13,orm_model:13,oserror:34,other:[0,1,3,4,7,8,11,28,45],otherwis:[0,1,3,6,49],our:1,out:[1,33],outbound:[2,8,21,23,28,37,40,50,51],outboundmultipolicyhandl:23,outboundpolicyexcept:21,outboundppr:[7,23,37],outboundquotahandl:23,outboundquotapolici:[1,3,8],outcom:[1,3],outlin:1,output:[3,15],over:[1,4,40,45],overcom:8,overlai:5,overquota:[1,40],overquota_ppr:[39,40],overrid:[3,15,28],overview:50,own:[1,8],p:4,packag:[0,1,6,50,51],packet:1,page:50,pagin:[11,15],param:[8,15,40],paramet:[1,4,5,8,10,11,15,18,40,48,49],parameter:44,parent:[5,6,21],parker:0,pars:49,parser:5,part:[1,6,8],particular:[1,7,28,40,44],pass:[1,3,4,5,21,28],passcod:18,passing_helo_failing_mf:[39,41],passing_spf_queri:[39,41],password:[1,4,18],patch:30,path:[0,1,5,7,18,34,49],pathlib:[5,49],pattern:[5,6],paus:1,payload:[1,7,48,49],per:[1,3,8,49],percentag:1,perform:[0,1,22],perhap:[0,1],permerror:[1,28],permerror_spf_queri:39,permiss:45,permit:1,person:1,pf_result:3,phrase:5,pick:0,pidfil:0,piec:7,pip:[0,1],place:[0,1,6,7,8],placehold:[8,22],plan:[0,1,4],pleas:[0,1],plu:[1,5],point:[0,3,5,49],polici:[0,2,3,4,5,7,18,21,22,23,34,39,40,41,45,48,49,51],policyconfigadapt:4,polish:0,poor:3,popul:[1,4,40],populate_redi:[39,40],populate_redis_grl:[39,40,43],populate_redis_multi:39,populated_database_fixtur:[30,31,40,45],populated_database_fixture_with_extra:30,port:[1,4,5],portion:5,posit:[8,40],possibl:[1,3,5,6,7,28,44],post:8,postfix:[0,2,3,7,8,28,44,48,49],postfix_act:[27,28],postfix_policy_request_messag:[36,39,47,48],postfix_policy_request_payload:[43,47],postfix_sasl_usernam:47,postfixact:[3,28],postfixgrlact:3,postfixoqpact:3,postfixpassfailact:3,postfixpolicyrequest:[7,8,23,40,49],postfixspfact:3,potenti:[0,1],ppr:[8,22,37,40,48],pprclass:23,practic:1,precis:[1,3],prefac:[0,5,49],prefer:[0,1,7],prefix:[8,22,40,49],prepend:[0,3,6],prerequisit:50,prerog:1,present:[0,1,6,7,11,34,49],pretend:1,prevail:[33,34],prevent:[1,8,45],previou:1,primari:[1,4],prior:18,privat:0,probabl:[0,1,11],procedur:7,process:[1,21,49],produc:[1,3,5,7,31],profil:[0,1],program:[1,21],proh:13,prohibit:13,project:[1,6],promin:1,proper:[0,1],properli:[0,1,31],properti:[7,11,23,49],proport:1,propos:1,provid:[0,1,3,4,5,7,8,11,15,18,28],provis:1,proxi:[1,18],pub:1,pun:1,purpos:[1,6,7,8,49],put:[0,4],py3dn:0,py:[0,1,3,6],pydant:[0,11,13,15],pylint:0,pypi:[0,1],pyspf:[0,1],pytest:[0,6,47],pytestmark:[44,45],python3:[0,1],python:[0,1],q:[11,15],quarantin:1,queri:[4,8,15,31],question:[3,21],quit:[1,6],quota:[4,8,9,11,13,14,18,28,31,40,45,50],quota_dict:[4,31],quota_for_us:[4,31],quota_id:[1,4],quota_map:[4,31],quota_map_queri:4,quota_map_wher:4,quota_queri:4,quota_t:4,quota_us:[1,4,31],quotaresp:13,quotasresp:13,rais:[1,7,25,31,34,40,45],ram:1,random_recipi:39,rapid_attempt:[39,40],rate:8,rather:1,ratio:1,rcpt:1,rdbm:1,re:[0,8,49],react:1,read:[5,40],readabl:1,readm:[0,5],real:[1,40],realli:40,realm:1,reason:[1,5],reboot:0,receiv:[1,15,45,49],recent:40,recipi:[1,8,40,49],recogn:[1,40,45],recommend:[0,1,5,6,8,28],recommendt:0,record:1,redi:[0,4,5,8,34,40],redis_key_prefix:[8,22],rediskei:8,redoc:1,reduc:40,refer:[1,3,4,5,49],reflect:1,refresh:[1,5,8,18],refresh_config_on_disk:18,refresh_policy_cach:8,refresh_quota_policy_for_us:18,regard:[1,8],regardless:1,reject:[3,28,40,45],rejection_messag:3,relat:[1,5,7,8,10],relationship:[1,11],relev:[1,8],reliabl:[1,45],reload:0,remain:18,remark:13,rememb:0,remov:[1,5,40],remove_by_id:11,repeatedli:1,replac:[0,13],repo:1,repres:[1,8,11],request:[1,7,10,15,21,23,39,40,45,48,49],requesthandl:23,requestvalidationerror:10,requir:[0,1,5,15,18],require_user_kei:1,requiredbi:0,reserv:7,reset:18,reset_live_quota_for_us:18,reset_quota:8,respect:3,respons:[1,3,13,15,18,28,44,45],response_model:15,rest:[2,8,49,50,51],restart:0,restor:5,restrict:4,result:[1,3,28,31,39,44,49],retent:8,retri:1,reverb:0,revis:3,rework:6,rfc:[1,28],richter:0,right:[1,3,4,7,8],roadmap:1,roll:[1,40],root:[1,25],rotat:1,rout:[0,1,15,18,40],route_nam:15,router:[2,9],routin:[3,5,6,7,8,23,31,49],row:31,rsyslog:[0,1,6],rue:49,run:[1,5,6],runtim:3,s:[0,1,3,4,5,6,11,30,31,40],safe:1,sai:[1,8,28],same:[0,1,3,5,7,28,45],samuel:0,sane:1,sanit:1,sasl_usernam:1,saurabh:0,scale:1,scan:1,scenario:7,schema:[0,1],schema_extra:13,scheme:1,schlaich:0,script:[0,1,5],sda:[1,8,18,45],sda_allowable_ppr:[39,40],sda_auth_email_ppr:[39,40],sda_batch_clear:18,sda_batch_peek:18,sda_clear:18,sda_peek:18,sda_unauth_email_ppr:[39,40],sda_unauth_ppr:[39,40],sdastatu:[13,18],search:[0,1,5,7,50],second:[4,8,13,40],secondari:1,section:[1,5],secur:18,see:[1,8,22],seem:[1,8],seen:40,select:[4,11],select_by_id:11,select_by_nam:11,select_by_pattern:11,select_ids_by_source_id:11,select_names_by_id:11,self:[1,3,31,49],send:[0,1,4,6,7,8,13,18,31,44],sender:[4,8,21,40,45,50],sender_domain_kei:8,sender_email_kei:8,senderdomainauth:45,senderdomainauthhandl:23,senderdomainauthpolici:8,sens:[1,4,6],sent:[1,8,28,40],sentinel:[1,40],sentinel_dataset:1,sentinel_serv:1,separ:[1,5,49],seri:1,seriou:0,serv:[1,4,8,11],server:[0,1,4,5,40],servic:[2,5],session:[0,5,12,15],set:[0,4,5,6,7,8,11,13,15,21,22,25,33,34,40],setup:[5,6,12,50],setup_config:5,sever:[0,6],shall:33,share:[1,3,6],shell:0,should:[1,3,4,6,7,8,18,22,40,48],show:[1,34],side:[1,40,49],sign:[1,21],signal:[2,51],signal_handl:21,signalhandlerfactori:21,signatur:3,similar:[1,49],simpl:[1,11,49],simpli:[1,6,8],simplifi:1,simultan:[1,5],sinc:[0,1,4,5,6,7,8,15,22],singl:1,sink:0,site:[1,3,7],situ:0,situat:28,skelet:1,skip:[11,15],small:0,smaller:1,smtp:[1,28],smtpd_policy_readm:49,smtpd_recipient_restrict:1,so:[0,1,3,4,5,6,7,8,23],socket:1,softfail:[1,28],softfail_spf_queri:39,softwar:[1,5],solut:1,some:[0,1,3,4,11,31,33,40,49],some_sql:4,someadapt:4,someon:13,someth:[1,3,4],soon:0,sort:[1,4,40],sourc:[0,1,4,8,18,49],source_col:11,source_id:11,source_model:11,source_nam:18,sourceusermapresp:13,space:[1,7],spam:[1,8],spammer:1,spawn:1,special:[1,21],specif:[1,4],specifi:[0,1,4,5,7,31],speed:8,spf:[0,3,8,22,28,41,44,50],spf_action:[27,28],spf_polici:[2,3,51],spf_reason:[27,28],spf_result:3,spfenforcementhandl:23,spfenforcementpolici:[3,22],split:[0,49],sqla:11,sqlalchemi:[0,1,4,11,12,13],srch:4,ssl:[1,18],standalon:1,standard:[1,8,13],star:28,starlett:10,start:[0,1,7,28],state:[1,18],statement:4,statu:[1,8,18],still:6,store:[1,4,8,31,49],str:[4,5,8,11,13,15,18,49],straightforward:1,stream:1,strictli:0,string:[1,3,4,7,8,13,21,28,40,49],strip:1,structur:40,stuart:[0,1],stuff:4,style:0,sub:[1,13],subclass:[3,8,22,23,37,40],subdomain:1,subject:1,submit:1,submodul:[1,5,51],subpackag:51,subqueri:11,subtract:[13,15],success:[8,40,45],suffici:1,suit:0,sum:50,superclass:[3,8,28,40],supervisord:0,suppli:[0,3,15,23,28,45],support:[0,1,6,7],sure:1,switchboard:[2,5,43,44,45,51],sy:49,symbol:5,sync:[1,5],syslog:[0,1,6],syslog_handl:6,sysloghandl:6,system:[0,1],systemctl:0,systemd:[0,1],t:[0,1,7,8,45,49],tabl:[0,1,4,11,31],tag:1,take:[1,5,40],taken:[5,28],talli:40,task:1,tbd:1,tell:5,temperror:[1,28],temperror_spf_queri:39,templat:1,ten:1,tendenc:1,terenc:[0,1],term:1,test:[0,1,2,7,21,49,51],test_act:[2,24],test_action_for_raises_not_implemented_error:28,test_adapt:[2,24],test_adapter_superclass:31,test_all_spf_query_result_permut:41,test_allow_after_is_zero:40,test_approval_not_impl:40,test_approve_last_remaining_quota:40,test_approve_last_with_multiple_recipi:40,test_approve_policy_request:40,test_approve_policy_request_for_uncach:40,test_approve_underquota_within_margin:40,test_attr_dict_return_float:48,test_attr_dict_return_int:48,test_attr_dict_return_str:48,test_attrdict:48,test_attribut:48,test_authed_user_gets_quota_check:45,test_authorized_us:40,test_cached_authed_us:40,test_cached_unauth_us:40,test_cached_whole_email:40,test_chapps_config_default:34,test_check_domain_for_nonexistent_us:31,test_check_domain_for_unauth_us:31,test_check_domain_for_us:31,test_check_email_for_us:31,test_client_kei:40,test_client_tally_updated_when_unrecognized_tuple_pass:40,test_config:[2,24],test_config_overrid:34,test_config_overrides_properly_forward:40,test_connect_to_redi:40,test_connect_to_sentinel:40,test_create_user_t:31,test_current_quota:40,test_default_polici:45,test_deny_overquota_within_margin:40,test_deny_policy_request:40,test_deny_policy_request_for_undefin:40,test_deny_rapid_attempt:40,test_deny_when_too_many_recipi:40,test_derefer:48,test_dunno:28,test_dunno_accepts_useless_messag:28,test_email:[30,31],test_emailpolici:40,test_exception_handl:45,test_fail_produces_reject:28,test_fail_yields_reject:28,test_failing_emails_get_reject:41,test_fin:31,test_first_encounter_fals:40,test_first_encounter_updates_tupl:40,test_fmtkei:40,test_get_block:34,test_get_sender_domain:40,test_get_user_memo:37,test_greylistinghandl:45,test_greylistingpolicy_bas:40,test_greylistingpolicy_get_control_data:40,test_greylistingpolicy_update_control_data:40,test_greylistingpolicyevalu:40,test_handle_allowed_cli:45,test_handle_authorized_us:45,test_handle_new_tupl:45,test_handle_null_send:45,test_handle_policy_reject:45,test_handle_policy_request:[44,45],test_handle_recognized_tupl:45,test_handle_retry_too_fast:45,test_handle_unauth_us:45,test_initialize_t:31,test_initialize_tables_default:31,test_initialize_tables_with_quota:31,test_instantiate_ppr:48,test_iter:48,test_len:48,test_mariadbquotaadapt:31,test_mariadbsenderdomainauthadapt:31,test_mdbqa_quota_dict:31,test_mock_config_fil:34,test_neutral_produces_greylist:28,test_new_tuple_client_tally_pres:40,test_no_helo_passing_mf_gets_prepend:41,test_no_keys_yet_exist:40,test_no_user_key_no_auth:37,test_none_produces_greylist:28,test_okai:28,test_okay_accepts_useless_messag:28,test_oqp_config_default:34,test_oqp_fmtkei:40,test_outbound:[2,24],test_outboundmultipolicyhandl:45,test_outboundppr:37,test_outboundquotahandl:45,test_outboundquotapolici:40,test_pass_produces_prepend:28,test_pass_yields_dunno:28,test_pass_yields_okai:28,test_passing_emails_get_prepend:41,test_passing_helo_failing_mf_gets_reject:41,test_permerror_produces_enhanced_cod:28,test_polici:[2,24],test_policy_config_adapter_default:34,test_policy_request_instance_cach:40,test_policyconfigadapt:31,test_postfixact:28,test_postfixgrlact:28,test_postfixoqpact:28,test_postfixpolicyrequest:48,test_postfixspfact:28,test_quota_dump:31,test_quota_for_nonexistent_us:31,test_quota_for_us:31,test_quota_map:31,test_quota_map_noncal:31,test_quota_search:31,test_quota_search_accuraci:31,test_recipi:48,test_recognized_tuple_pass:40,test_recognized_tuple_updates_client_t:40,test_redis_config_default:34,test_rediskei:40,test_reject_null_send:45,test_requesthandl:45,test_retry_too_soon_fail:40,test_retry_too_soon_updates_tupl:40,test_return_boolean:48,test_return_cached_instance_approv:40,test_sda_fmtkei:40,test_self_writ:34,test_sender_domain_kei:40,test_senderdomainauthhandl:45,test_senderdomainauthpolici:40,test_setup_config:34,test_skip_client_tally_update_if_allow_after_is_zero:40,test_softfail_produces_greylist:28,test_spf_handl:[24,42],test_spf_polici:[24,38],test_spfenforcementhandl:44,test_spfenforcementpolici:41,test_sufficient_client_tally_permits_sending_for_unrecognized_tupl:40,test_switchboard:[2,24],test_temperror_produces_enhanced_cod:28,test_tuple_is_recogn:40,test_tuple_kei:40,test_tuple_recognized_and_tally_exist:40,test_unauthed_user_gets_reject:45,test_unauthorized_us:40,test_update_client_t:40,test_update_tupl:40,test_user_default:37,test_user_default_no_sasl:37,test_user_default_no_sasl_ccert_or_send:37,test_user_default_no_sasl_or_ccert:37,test_util:[2,24],test_what_config_fil:34,test_what_config_file_returns_path:34,test_whole_email_auth:40,test_whole_email_unauth:40,test_write_config:34,test_write_config_bad_path:34,testing_polici:[39,40,45],testing_policy_grl:[39,40,45],testing_policy_sda:[39,40,45],testing_policy_spf:[39,44],testing_userppr:[36,37],textresp:[13,15],than:[1,5,7,40],thei:[0,1,3,4,5,31,40,49],them:[0,1,5,6,8,11],therebi:6,thi:[0,1,3,4,5,6,7,8,11,18,22,40,44,45,49],thing:[1,6],think:7,those:[0,1,3,5,49],though:[1,8],thought:23,through:[18,44],throughout:1,thu:0,time:[0,1,8],timeout:0,timer:1,timestamp:[13,40],tin:0,tld:13,todai:7,todo:[1,6,7,40],togeth:[1,5,40,45],token:[8,49],too:[21,40],tool:[0,1],toomanyatsexcept:21,top:[0,1,5,6,13],total:[0,1],track:[1,8],trade:1,traffic:7,translat:3,transmiss:18,transmit:[1,18],treat:[1,21,28],tri:[1,31],trivial:1,tt:49,tunabl:1,tune:1,tupl:[1,39,40,45],tuple_kei:8,turn:49,two:[6,15,28,45],txt:1,type:[1,4,5,49],typic:1,u:4,ubuntu:[0,1],ud:1,unabl:15,unauthor:45,uncach:40,uncached_allowable_ppr:[39,40],undefin:40,undefined_ppr:[39,40],under:[0,1,6],underquota:40,underscor:[7,49],understand:1,unifi:1,uninstal:0,union:5,uniqu:[1,4,5,8,22],unique_inst:[39,40,43],unit:[0,1],unitari:13,unknown:1,unless:1,unrecogn:40,unrel:1,unsuccess:45,untrust:1,unwork:34,up:[1,3,5,6,8,40,50],upcom:50,updat:[1,4,11,15,18,40],update_assoc:11,update_by_id:11,update_item:15,upgrad:[0,1],upon:0,url:18,us:[0,1,3,4,5,6,7,8,11,13,21,40,49],usag:1,useless:49,user:[0,4,7,8,9,11,13,14,18,31,37,40,45],user_id:[1,4,18],user_kei:[1,21],user_nam:18,user_t:4,userid_queri:4,usernam:[1,4,8],userresp:13,usersresp:13,usr:1,usual:1,utf8mb4:1,util:[2,5,7,13,23,47,51],uvicorn:[0,1],v0:[1,13],val:[11,39,49],valid:[8,31,40],validation_exception_handl:10,valu:[1,3,4,5,7,8,11,13,15,22,40,48,49],valueerror:[7,31],vanilla:1,varchar:[1,4],variabl:[1,5],variou:[0,1],ve:49,venv:[0,1,5],venvdetector:[5,49],venvpath:49,veri:[1,6,8],verifi:[31,34,40,45],version:[1,3,4,5,13,40],via:[0,1,7,8,11],viral:1,virtual:[0,49],visit:1,volum:1,w:40,wa:[0,1,5,6,21,40],wai:[0,1,8,11],want:0,we:[0,1,4,8,23,34,40],web:1,weird:[4,8],well:[1,28],well_spaced_attempt:[39,40],well_spaced_double_attempt:[39,40],were:4,what:[0,1,3,5,8,15],what_config_fil:5,whatev:0,when:[0,1,3,4,5,6,31,34,40,44,45,48,49],where:[0,4,5],where_tupl:11,whether:[1,8,49],which:[0,1,3,4,5,6,7,8,11,21,23,25,28,37,40,49],who:[0,1,7],whose:[1,18],wide:1,windowed_list:11,windowed_list_by_id:11,wire:[3,4],wisdom:1,wise:0,wish:1,within:[0,1,6,11,40],without:[0,1,7],work:[0,1,8,31],worker:[0,1],worth:[0,1],would:[1,4,5,40],wrap:[5,13,23],wrapper:[1,5],writabl:1,write:[0,1,5,18,34,40],write_config:5,written:[5,34],wrongli:11,wsgi:0,www:49,ye:[3,23],yet:[0,1,4,6],yield:[1,11,15],ymmv:[1,3],you:[0,1],your:[0,1],yum:0,zero:40},titles:["CHAPPS Installation","the Caching, Highly-Available Postfix Policy Service","chapps package","chapps.actions module","chapps.adapter module","chapps.config module","chapps.logging module","chapps.outbound module","chapps.policy module","chapps.rest package","chapps.rest.api module","chapps.rest.dbmodels module","chapps.rest.dbsession module","chapps.rest.models module","chapps.rest.routers package","chapps.rest.routers.common module","chapps.rest.routers.domains module","chapps.rest.routers.emails module","chapps.rest.routers.live module","chapps.rest.routers.quotas module","chapps.rest.routers.users module","chapps.signals module","chapps.spf_policy module","chapps.switchboard module","chapps.tests package","chapps.tests.conftest module","chapps.tests.test_actions package","chapps.tests.test_actions.conftest module","chapps.tests.test_actions.test_actions module","chapps.tests.test_adapter package","chapps.tests.test_adapter.conftest module","chapps.tests.test_adapter.test_adapter module","chapps.tests.test_config package","chapps.tests.test_config.conftest module","chapps.tests.test_config.test_config module","chapps.tests.test_outbound package","chapps.tests.test_outbound.conftest module","chapps.tests.test_outbound.test_outbound module","chapps.tests.test_policy package","chapps.tests.test_policy.conftest module","chapps.tests.test_policy.test_policy module","chapps.tests.test_policy.test_spf_policy module","chapps.tests.test_switchboard package","chapps.tests.test_switchboard.conftest module","chapps.tests.test_switchboard.test_spf_handler module","chapps.tests.test_switchboard.test_switchboard module","chapps.tests.test_util package","chapps.tests.test_util.conftest module","chapps.tests.test_util.test_util module","chapps.util module","Caching, Highly-Available Postfix Policy Service","chapps"],titleterms:{The:49,To:0,about:7,action:3,adapt:4,against:1,all:1,api:[0,1,10],ar:4,author:1,avail:[1,50],cach:[1,50],chapp:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,51],common:15,config:5,configur:1,conftest:[25,27,30,33,36,39,43,47],constant:4,content:50,count:1,databas:[0,1],dbmodel:11,dbsession:12,deprec:4,domain:[1,16],dumb:0,dunder:49,email:[1,17],enforc:1,featur:1,get:0,getattr:49,grace:1,greylist:1,highli:[1,50],inbound:1,indic:50,instal:[0,1],introduct:1,kei:1,live:18,log:[1,6],margin:1,match:1,messag:1,method:49,model:13,modul:[3,4,5,6,7,8,10,11,12,13,15,16,17,18,19,20,21,22,23,25,27,28,30,31,33,34,36,37,39,40,41,43,44,45,47,48,49],multi:1,non:1,note:7,outbound:[1,7],overload:49,overview:1,packag:[2,9,14,24,26,29,32,35,38,42,46],polici:[1,8,50],postfix:[1,50],prerequisit:0,quota:[1,19],redi:1,rest:[0,1,9,10,11,12,13,14,15,16,17,18,19,20],router:[14,15,16,17,18,19,20],run:0,sender:1,servic:[0,1,50],set:1,setup:[0,1],signal:21,spf:1,spf_polici:22,sql:4,subclass:7,submodul:[2,9,14,24,26,29,32,35,38,42,46],subpackag:[2,9,24],sum:0,switchboard:23,tabl:50,test:[24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],test_act:[26,27,28],test_adapt:[29,30,31],test_config:[32,33,34],test_outbound:[35,36,37],test_polici:[38,39,40,41],test_spf_handl:44,test_spf_polici:41,test_switchboard:[42,43,44,45],test_util:[46,47,48],thing:0,up:0,upcom:1,user:[1,20],util:49,whole:1}})